# CG2019 Assignment 3

邵欣阳

516030910459

## 1. 为实现作业内容所做的具体工作

* 查阅资料，寻找实现此次作业所需要的相关函数调用。
* 编写代码，调试代码。
* 编写文档，整理笔记。

## 2. 技术方案

* 根据作业要求，我决定仅用单个源文件实现本次作业的所有内容。
* 我将本次作业所要求实现的动画划分为三个阶段：

  * 第一阶段：程序启动时的阶段，仅绘制无光照的炸弹模型。
  * 第二阶段：当鼠标左键点击窗口内任意位置时，进入第二阶段。此阶段点燃了炸弹的引信，引信随时间缩短，并且在引信末尾始终有光源在闪烁照耀着炸弹。
  * 第三阶段：当引信末端触及到炸弹表面时进入第三阶段。此阶段炸弹炸开，散成许多彩色纸屑四处飞扬。
* 炸弹模型是一个黑色球体。

![](/home/traceback/Code/CG_2019_Assignment3/assets/phase_1.png)

* 炸弹引信是由一系列短线段组成的近似二次函数曲线，当引信被点燃后，每次绘制的线段数会相应减少，以此实现引信缩短的效果。
* 炸弹引信的火花是充斥一定数目的随机小三角面片的球形空间。火花所在球体的球心被放置了一个点光源，可以照亮炸弹表面。

![](/home/traceback/Code/CG_2019_Assignment3/assets/phase_2_1.png)

![](/home/traceback/Code/CG_2019_Assignment3/assets/phase_2_2.png)

* 炸弹爆炸后，会产生大量的彩色三角形面片。这些面片的位置和颜色都是随机数。面片的初始位置被限定在炸弹所处的空间内。
* 炸弹爆炸后的彩色三角形面片的运动由两部分组成：

  * 向四周散开的运动：此部分的运动方向是炸弹球体的半径方向。速度大小满足：

	  * 初始时：f(u, t) = u^t, u = C - kt, v = f'(u, t)，其中k是衰减系数，C是常数，v是速度大小。
  * 当u衰减到一个常数A时：f(u, t) = A^t, v = f'(u, t)。
  * 向下坠落的自由落体运动：此部分的运动就是自由落体运动，是向下加速的匀加速运动。但是当速度增加到一个上限时，会转变为匀速直线运动。

![](/home/traceback/Code/CG_2019_Assignment3/assets/phase_3_1.png)

![](/home/traceback/Code/CG_2019_Assignment3/assets/phase_3_2.png)

## 3. 键盘或鼠标操作

* 初始状态下，点击鼠标左键点燃炸弹引信。

## 4. 其它说明

* 此项目使用C语言编写，在linux下使用cmake构建。
* 使用GLUT和OpenGL库，除此之外没有使用除C语言标准库外的任何第三方库。
* 我提供了linux下编译好的可执行文件。实现效果和我所调的参数息息相关，为了避免遭遇“不同机器上跑出不同效果”的糟糕后果，我留了一份手机录制的本机效果视频，如果可执行文件执行起来的效果与作业要求有严重出入，请参考效果视频的效果。